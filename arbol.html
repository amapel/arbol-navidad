<!--arbol de navidad !-->
<!DOCTYPE html>
<html>
<head>
    <title>index </title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="main.css" />


</head>
    <body>


    <div id="arbol" class=".animated.infinite">
    	<script>

              var altura = 22;

              for(i=0; i<altura ;i+=1) {
                var linea = '<div class="linea '+ i +'">'
                document.write (linea);

                for(k=0;k<i;k+=1){
                    /* Para cada posición queremos colocar un hoja o una esfera

                       Y para sber si es una hoja o una esfera sería algo así como
                       hechar un volado, donde cada cara tiene la probalidad del 50%
                       de caer, entonces si calculamod un número aleatorio entre
                       1 y 10, entonces si el número es menor o igual a 5 entonces
                       es una hoja, si es mayor a 5 entonces es una esfera.
                       Pero tenemos más hojas que esferas, entonces la probailidad
                       debería de ser mayor para las hojas que para las esferas, así
                       que sería mejor considerar un valor de 7 en lugar de 5, por
                       lo tanto si el valor es <=7 es hoja, si es >7 entonces es
                       esfera.
                  */
                    var volado = Math.floor(Math.random()*10+1);
                    var limite = 7;

                    if(volado <= limite) {
                      /* Colocamos una hoja */
                      var hoja = '<div class="hoja"></div>';
                      document.write(hoja);
                    } else {
                      /* Colocamos una esfera */
                      var esfera = '<div class="esfera"></div>';
                      document.write(esfera);
                    }
                }
                document.write('</div>');
              }

      function runanim() {
        /* Que hace runanim() ???? */

          var lineas = document.getElementsByClassName('linea');

          var y = Math.floor(Math.random()*altura);


          var hojas = lineas[y].getElementsByClassName('hoja');
          var x = Math.floor(Math.random()*altura);

          hojas[x] .className += " on";

              /* setTimeout() es una función que ejecuta una acción después de 200ms en este caso, la acción a ejecutar es apagar el led */

              setTimeout(function () {
                /* esta instrucción apaga el led colocando sólo la clase led y eliminando la clase on */
                hojas[x].className = "hoja";
              }, 200)

              /* Otra ves el setTimeout() pero esta ves hace que la función runanim() se ejecute nuevamente dentro de 600ms */
              setTimeout(runanim, 600);
        }

        /* Esto inicia la ejecución de la función runanim() */
        /* runanim(); */


      </script>
        <div class="linea"><div class="tronco"></div></div>
    </div>
    <br>

    <div id="arbol">

      <div class="linea"><div class="hoja"></div></div>
      <div class="linea"><div class="hoja"></div><div class="esfera"></div></div>
      <div class="linea"><div class="hoja"></div><div class="hoja"></div><div class="hoja"></div></div>
      <div class="linea"><div class="hoja"></div><div class="hoja"></div><div class="hoja"></div><div class="hoja"></div></div>
      <div class="linea"><div class="hoja"></div><div class="hoja"></div><div class="hoja"></div><div class="hoja"></div><div class="hoja"></div></div>

      <div class="linea"><div class="tronco"></div></div>

    </div>
  </body>
</html>
